import { Remote } from 'comlink';

import { OptimizerTypes } from './runner';
import { inView, runWhenInViewport } from './viewport';
import { GamePlot } from './GamePlot';
import { Storage } from './Storage';

import './styles/index.scss';


const loadFromState = (selector, state, uri, displaySetting={'interactive': true, 'showAxes': true}) => {
  // Get state from URI if there
  const storage = new Storage();
  let urlState = null;
  if (uri) {
    try {
      urlState = storage.read(uri);
    } catch(err) {
      console.log(err);
    }
    if (urlState != null) {
      const [loadedState, trajectories] = urlState;
      const gp = new GamePlot(loadedState, storage, displaySetting);
      gp.render(selector);
    
      const element = document.querySelector(selector);
      runWhenInViewport(element, () => gp.drawTrajectories(trajectories));
      return;
    }  
  }

  const gp = new GamePlot(state, storage, displaySetting);
  gp.render(selector);
}

let uri = window.location.search.substr(1); // remove "?"
if (!uri) {
  uri = 'N4Ig5ghgtgpgKgTwA4xALhAZwC4QEYA2MA4tKgDQgEBO6ADAHR0CMlA9ktgJZRcBeMaohSZ0AbRABBACbQQlAMrEAIiAC6AXwA+Y0G3RTZUeSAAWBgLSNmADgCs5RgDY6AdnJWGAJmatGd13dPHydHBjsnIMYfGzC7CI9o5nd-ABZQ4OZUuIBmDOi6LzjmB09bUMZUgE5S6ztYyqccxIZfCoZUryLPNzownJtuxkLmxhzUh2Gs-uYqsLo7P28q9robBu9AsOYvdt3R1sWwrwTrVz27A686PujL47zj+uOXF73B462xumzoqtuGDkTv06O1xpNAcCxk1+hN+jYAXkNjkVv0qkVKnQ5pVbGFOgDUnDKjklql1njHv4cgdUkC4q5sR1rmEnF4UoCqhtImDImFXLt+l5GYF3r8GIN2V5xmEbK4NlkxSsMUwSeRmExXj0nA51cxHmVUqxdf8Wsk5uqfNlMu4LdLgq5mha7HNPEDYhbXLVATZHd4Pp5aTa-X0A1UjZtWJ47HCnfkGE5kmrvEKWvzsrr-Yx7OGdiHGFVaUneh51XRHqWSiWmGGwlU5VWshCqjkgsb2TZm1WvETxXCLBaO3zO-3AZXGJ6MurxuynHWq3kxdrW4DXEsmpPvUtnVapzZ2vEQ7uNnY3PObGLCYeV+yUaUp05kUcR9SNt3IxbOds9V21qb7iOSmaV0bgbaZXRNEc3FiANWSrMs83CPt83sFoEyGBhmyA5wGRaWUrXHVIonFUFcLAgivT3F1sKI9EsPjKUWhWOjozvJhEwDH04IScDoN1U9XVVADCRaXYd1aesylREdrio1ovF47wWxaUEr12JYbmXeT1KfD9lSxVichYbZnXnZgAS6bopzHP0xJJHkDN8PFhOfEC0lUj5nH1J1hUHaTmHaAsxP880NXfOSQuSBS1lCJ0gNLaMkyBMSWBCls6KqE11UNGjXiyhLPHRd0Ok4zwO19E8KICJNFlkmxcXVOxu1TGsGoFTxznK4F2pyHVwi6VMFmqxzPCcYSsqcONCSDQl8MhGKmTjcpEpqbZ5MS85jk7Kd0jiMskyFCE6pCk4+lLDaLRTXVzu8RynSDWZ01HIrkiDNKkxKELDQi1JTo6eJ3uBLLXEeszPtlIsCyTapfTcX1qken55rJdkViRk9axRKHOlrHYoaUrNeSyulxx8KGmv8VEstxsZVV3ZUdnDHrZsKebqQQ-zfsMr0hXDNkiPxfakPCGELRI9qjN1GFSoFXVSYKmMmA2yClNLHqGyxIsQIAnD8xM6TpXzZlpNGmVIekjzxSVqzDqU59sfHFbn0avl+XnBM+WqN2Nn5AzgZZcHnw25xNSnL541mec-f8K3AVnXJLMBI5KgY6STWsNb9dkrFVP800Y9mSM7hdSWvRfBtsYDQo4Md-xv0gslUOG-Nh3HMzGLZUi6PsWT-jjBlC4w3zx3-VWENXBO3HQpoFL1WTnSvM0WniDdrlmk84u8H6WnSFfYMr4vlnQvID5JBCgRPtronJO2EO7ZcevQ64DPdsopfvaDhgyyPmaqwPVjF0OEIfgKRbPTNuz5tTHFxnbRkp95wpkqM5D8M4UL63aLKDctggwsFYlkCKttdS41tFFesVlkoN3fnBJqVMvQZSKhMOMdZfpkh7oaaqYtDa-Ual3cGDU6SlXuHw2adUgyNT7oTDoDol6rihi-WuzD0YBgoR0fUYwI5ZV-MMBiR5jgkW2u0aox1Xa63mlKXqH19qJgtIWUWjM9GtHPIlE2kskbTF1IRKGgjWjUihn7WWRQsqOL4tNLa1YQnzTWOGao2D-qBMZHWehScMLOyyoWQ2SN8biiCSog45wAlMi5J6MmBIt5ThWtENhocARYl9OMLOAxEoZ2sBNRKPwRKcQ9LJH6QZuwf3CCrG6dEJrzWSF6OU+S9REQ7PkrENFMpMGeJBVwv1CgJz1BsTkmDIa6wTt2AKdcBwHHWFeEkh1Cw3xlHtJ2wo9ahyWKuDeLZ2gTUeUHeirzlQRBASbeR84EqVEUR+MUJQwrdjolBH83NcQARNq6BuAF2KVGWXBOOUYcLKz6U0A+NwxlGQKg+VMUt8xq1KpWUqEEswIlwoo4lwiOGD1koEK8ZYB4Ognq7EaNYEVDI8QBf8zg8XGnQvEUFKYozsSdOhdIG95KzU6BuQydEBggLlmMeFU5VF+hAf9YIHcIGyX8r7IiZkE4DAHmWE+dV5hIJXMCtq94rh9m2qSCVgIjJZgzqLFZ6rWiVPEmFMyj02Tss5mK0sHj7ysRZctKKlYspNIwnOPKjCcJAx7rlcI-FiVcKNvmDWrVarkiEbhSBfC4znnyZcYR9U+p9LlFEiSAqkawrSNNbi-gq6pP5qUjobDXTXU6MazkIANDkD0AYJQqhKDmAwGUIpzhc5zsZC4dCtgtx7jzoyeIq7kW11miUC8UiyjExyaaQaYwpLDCjrHdCPwljUi9BpGYBxCiMiFOyUEYp5Ifs-FfYFhljjg2aeZOc1gUJqKuCRGmEIfAQh6uZUm0IYMCjGFa6Ia0L2vgQR0XO6H2S0i-YmJFBxZhbu-GcLcpxvHPNctWAE2pqm4lblnXdDAGSLQ8VmX+SQAr0rZAFPtNMDgrCIgMAKqDEGKhrh0Tszc+nRgCpe+Me1kJEW1PEo9rcmz5XHNewquFVRZk-OSpYe4B7NnbHq5CYo5RRUM2xiupYCXji1nxZU2o1k+IFQG14aRcE6xkwpa4BIU6i2RKgi0uHAT8Iul+re0koQOKC+TajXYiMqjEtcc1fsAJUrnZgp8V8N6+FLgHM6k10WqwHgEdCdY4wTR7ou4efT7DCPiw7Wr0CSYIU5F6Cay4yxTyapBXkaKD5mQQpcANglKhWphQhTo42N3gUy1XOFqkU5X1Ym+ESAHpLtvEttglZQI7SSVsMSB5sX2-nNh+iSA5GRZCC0B7wgK-T3p0psAkqLYpxAgraXJBDvDnstv5hGa33Egw1gikGXLSxFs3tilpU5BVMBsYCJ1bEioDFq+iKGTcMKlpUbV8svb0pWL+gPDszaEJ7l6ukKZzIgZj3dsz1CX9xp9baXlfmCPaQD1mPQ2jbhWbuzGEUj8PkeleIWD0taV0iqr32sijMtS6RXU5qzw4r0UKQ6htz7xUSa2+GmpdVoIEiZFTWHDMaoUsZW9-Kkxksp8m0mPOjDRYIji7hI1se8jHWYkvTtj6H0QRbve3gbu+S846i3Qj7d6-LxSwT4rQqR8VsUyxVFGiRLBiuaMTQvTJdYA1SPzOc408S5YXWVB2IL9tLYyt872FeVKszQ90i7E+bTxxA5JAcWcpqmPxkx0CLcUkpyIcQrZYfhF77Uw5AZFTo5QV47w12ALjYuywWGCPTe4KSU19NKd1XIl8ruKPjIyCZtZsbh+MKvHkECejRoo2tjVzy8s-M1m4iLXBPihvzYznHllmjyUYjmxJmSmhWcBKnilmlGmZSHnCEdllmYl5V1B0xk2XFsClUx2uD6R+gPi6CVSPVtDjBJCC0wN2F2VRQKFb3Zje3kj6X0i7EAJ+FUlAxVF2V-TklXz2H4g-BA12QthRBoLI1BXRk8m2w7nHBaWkndSyUwT00f3cSty2AAkBlaD3j4l+gsjglTU2DvwSEnyjXV1jijVPDKT6U5GYTJXzBTyZFYRt3M20T+h6z2h51wg+HGmEQ90kTHlCUIjHksI6Euwpk+mdgDFcNpDomIP11WCz1AU2kZkSwTF6n41rGoU3l6ixGOnURulMQ8M2HMXmX73ej9wxxGWcRXF9BBWWhBgaSphzE0M6FqJCNpByPmUJBmVdlSQiW917StyZ17XiWR17XQQHQaV+Q0WVHklSnnWrEZkIhHTUCAA';
}
loadFromState('#contour-top', {
  gameType: "stableGame",
  lr: 0.01,
  optimizerTypes: Object.values(OptimizerTypes)
}, uri);

loadFromState('#contour-nash-eq', {
  gameType: "bilinear",
  lr: 0.01,
  optimizerTypes: Object.values(OptimizerTypes)
}, null, {'interactive': false, 'showAxes': false});

loadFromState('#contour-bilinear', {
  gameType: "bilinear",
  lr: 0.01,
  optimizerTypes: Object.values(OptimizerTypes)
}, 'N4Ig5ghgtgpgKgTwA4xALhAIwJYBtsB2MEATiADQi5loAMAdLQIyUD2SALtlNgF4wlEKAM7oA2iADKAcQAiIALoBfAD5jQrdFLkUQACy0MArEwCc5ALQMAbAHYALOWNGAHJZv2WN2gCZ39a1paJwD7AGZ-IyNbELsjSKYYhltaeKt6e1t45LCY9PsfbPpbazSGXL9k02D0sMSQl1o8hh9rcwYXQv8fJkr6FzC3dKYjRw7M-1pTIpcjP3TaMJm5kN8x-vt2xiyGgpCmJYawiIYmWYazkJ9whsWr0y9il0ew+2sQrKL7II+uhnsVjZTH0jMxYtZHqM+tYfCCXO9jPDYrCQqNHtYYSFNicAqY3P8TL8EfQwqYtp8Qq8irZnvdgh07i1jg0evsdh1Dqc-ht1rQMQ1Qas+QL5gxUjjZjVTgddo5htYJWF3ukehLrt0UrdmiTLskXOZarYcSUyhlWh8lf5MsSUqaTPiAjt0kZrOsFcrvEl6EZpv5XSDXH7GqimCx0iktm8DclPFjLuHrA6laaaVs6tH+kx6fRWhF0p11qr-AMvSNTS43qtTB7+oSxbliysFj48x1BQsHMWbsNmfmwqL6GYB88a9cM40pTm8f5bDT-EtW8VCflheHWflA+lE0NjE0-S7IhMt-VncDIsGtz5tUZDlv+fkXDvir4rQCZz4M6TF1kn8cMzS5RaB5izuFVbw6ddTlnYtwMHeNxlNVJx2XMVaCfWY+loexANrR4s0XCtiRGHCBgdHph25Vpxz3coTyqbMKhnUosXVcMG3+RMZyzENtTiVEFT9diAlXYxq1iWNnR9WJbAzEw+hSJ9MmzBxJwKZTONqOwPn1ecfGzRoM1adZOlHYUOW1EYvUIyZpzbMN6wdDDVhRcYtjQx4Kzw74jmzMwtmeL1rgdGSk1SD453KQEl2JUlgqvLFNliMksTPGwBOMbybHVRF1lcdFzWMS00q+HTkjBf5SQtHFSXWH9KUyp4cQ-CUXyZYlOl8iL+lefYzF2Io+X0utGB+NsBz5RzEuGeLxgHM52rqbobg6JgazCUbijE2oonCxdvmCyt8kCD5VsiKZYlpSSildHDAiKH1eMrZxF0THFQRrWx6gJbUHAdb4Ps7SLhw2nwdPzPqmWHZkoPLbDeprSVVgPfMm1Qgj2zFAT8zh6aoZws57P6PTukq-MwRVX1wxk+cUKXPasPfPbkZsMHd1NUpFyiAcIU5rbjE1LcG2dVibCdf4Si41SunDCTymYqmBzqScZNHUZixGfwzARxae3QvYOz1jNmGQzDZdw-YfmxoipL7QLzXzVkWgGEDqsGGdaXKM9wx2-4ceSblNlu1LvXsJ9SmzH1ue4mweudLTRYHOZHhSbVMmNUn-hc4otM08lgNqJhjLQ7p+Qg009P8t3hmGittSmPpZkJrCPKi42BWzJp9OWwcPyOPozkc4mmSs1qp1q6nykS5IbyxRlihbLE1aBL5TC9UotlGN0h+9Uqd5xGF7rdtL1k2dFkt95P+0pXeShebuaT6UGR8LdaWX7j3uvWXoG7hzGJUFMUvQRSTFDgKQmWYrJvmro5IWLRToQUXFeFqa1HZPF-BLZIWNM7BVgpkckoFjAzQCDnYwpcAix28BvUwL1f7eh2luDB3oNbhlDFiEhxQ9j-FOlTBiWDNoMW4StR4rRJydCKD0URR9Byow2F6KY6NMIUNrONe2rlJhImxuAqBHJwGUxWuXGRMlPzk2SBLbaH0MYZHOmuVSx0tz513C9OxGUXrE2dI+SIc5LyyQzsQvayV7E4Wwv+eKtRpzezWn7J4A4PwIxMTmby4MMxmEkXNK+2NFxNHRpOZgCjVhHjshbBGb5Tjyw5OI5hEFCy2GBjFUG7sii5BwiUE+oScjEkyE+FIuU+oMLemU8h10Xxbg2q6TmB4WaExMMpbiR0DqE08F6Eon5XQfGofOc6K1EEzwgtqPSipkklNkTZYyMjFjLEwvAjYblGEVi-kQgYOIzgzF1AklqDENo0gYhMaeJ9PkByim0EEo8MSQk4QEIhrgI7nCym9H5AQJnelGesgkcVHj-Q+MNJUydAYkjMptQKU9MzEj0vpV+pxYzjEeGhH+blFpjUmPUhlHZ-KgJ7KyycZgrL1JVE9TM5dfRVF-AA4oYsSRiWnntUB-t-FnztFI0oT5XD716TYCGe99wbyrsvFKysF6+x+js8VAMYqWKMfcEiX0czau6r5Dx2NfI2orA6JoJtViquUSA0RbKxQOI2JyyxnRDLxOeDhQoXTTA4TqM0zsmlCYOFToXd8CzNxAk5pbGwzMQ68RRO4msUK-Q8sKuze8-xI1+lXlaQx0t-gZqXKaV4H1LpAWopOa4w54KDnWX2cBSiKzjQrF2I2ItPVijaaOxgLhtTOv2LAjYeE+ZEy2IUAiMpyjDKqKan6NS4zKyOQCZp6rNg1jaBHKJpRcr2rVW6V+zpPrgk5lfIEGZQ61XSRVWqWbBjkmprUbujRCag0cnRa1lc5ofwrIub+7dJjpU9QsIBhSxTSo2ERGi3UtgjEHmRdDzxH7MSqC8VBs4XicRjK0mZXo3hug8buYkpRIRGohJCSt-NrpPu9L3UW6LaPPnRVIo01UkSYL6MceSU6riDoZOIoqRNOowKKKGVlA0yO1g7lapyCx-20yzD-Gsq0PKWhVKwsuJdHLF1qBxmk9Nk6WLeEs1hwstgYjtBJtV7MGpRAzK9VEIl54dP1pg9YuQUyCrxeWK11xJGKdLcc31ojW4yhRk3eh4woM6w5Jy8JDJDI7vDJ0ec3YYyKSAeGax4teJ8JvN50rol83RD9D6jIi62imnCP+Xs5Q8uYOMfGgJLRe4OzmmrPsRsvFqIQwlnwIAlAKCAA');

loadFromState('#contour-stable', {
  gameType: "stableGame",
  lr: 0.03,
  optimizerTypes: Object.values(OptimizerTypes)
}, 'N4Ig5ghgtgpgKgTwA4xALhAZwC4QEYA2MA4tKgDQgEBO6ADAHR0CslA9ktgJZRcBeMaohSZ0AbRABBACbQQlAMrEAIiAC6AXwA+Y0G3RTZUeSAAWBgLQBGBlYBsATnLWGAJgAsAdmc26Vpy4AzA6BzowOjj4M7oHeFuH+UV6s8QwAHHZpUcx07mHpVlkuzK50+Z52cTYleame9tmJqXZ2tdUs+XZWrklpcYzMdmUu7nYpjO50PUEOVvmuEVGBo-MxS679tg7DNoF0AYxWsVEL40xpbW5p04x0gdM2Gz23nqEurszeE3snHuQDP3eVjmAzSOzcU3+DEy4MKIIYr1hmShaXuUSOdhRqPRhShDj6UTonlYvmChJy5F8DgeTFcPRsVhWqQc1MpWwODAczCcjxK+WpeV2uXyaTSJIYgUGIvc9OiHTqixs7j5dS8bPcXM6DkFDGYgTejDsgSy1TG+U+Jt123NDRsQ0xqWVcztjPyxtCLtqjECrrtRNWHqtXts9TZnzO+0tzD1+Sm4pyZUOrkD7isXwlkzZgTNEzSzoliUNpTZCyyhrSPLcXRRGxLCzxLRLfjZVn9DI1WdFLeTYe6Lf2Ybssv24qGZV8YLZQ-FdDNdslbNylaNw-1U9xvltVtY4Xxg8x4VclpiB85rfVdDL6VZu2xjD64uzoXvnyzavvmd2C-vdKztfvHS7D2jCeASQHPgikRAaexLjhKPpQvUgbLOmYyysaibQpeF7woMcGpk4ALijKO66thSr1rm+YxPCyopgh3rauqrink+zGYXs+EdLcrRZguqR3JWexFIcnhwRsmzuDKdZzKkJSWqUsmGkcLageUPztkp6TRouTHMjpvgUi4s4QSyVS2MaeLMJcaakSEsmPB296eOZR6kRc5k+oRBQpLszDwqBDkSp43meFJSTcQiwojCxUItEFUnPNCVi+dEMYDJUSTclC-kOkq2UTEOWWkZMeXRCs3pqiMa6MEe5mpumdKpcEV72EFkqkXcQVHsG9ipYUInRK4QXAps9qEmsdQVvy03Mn2zKAqSHIZDZyKpNcRSPGiCrgqc5QdkEUp1PKSqus0r4jGazT+sU2FydZ2TSY6e7FEa+QxJtuqeDcwVlYMHI+jS0ZnB4qV6j9aZ-Xc+StmVozeYU4L3KR9xvI8QxQsElzJrhyzomphrfeiCFUmjTDQ1tmxco+A7MkeWYhSKLLqky95QWRmyovGRUKsus7lBj86DfUlpjGNrxTjzRajg9cnElO-EDMNU604VmLVBU73kdEmWpHS9EQ4LcrDLcmq7KGAkkxmp53DqqNQpGWaRfYspHt5TUli5UJ1SWjaVZWHzeam4nuFeer5h4SVjBH36ckVW1wSOMklmijxthK7P+JWMQ6oU2dMQyXvVCsDJzrqXYMv566Wkco54wyiTzt4DKQnatYTjq42+GXnzefix7Kg2x4NOEHa7Na4QaRnffAlm6XXshqYomFfEQWK6sSpR6THEB3l5pa+pJSFQmWSBRuSqelTEc2RbN0NmFDLKMph-LSo1bqofqscAyN9Ep-RNNN+6YZR3xiBxAuQ08jelikqf0hx07LAdLcYUuxcSpEZAHDI71B6PFinJPcDJZogV-JXA06RiwMmLHTHUl4aR3A3ncfqrpdyfRSqZNS7w0STzJhseE2xPLYXvJOIIawXztXlj+cEkwoEIiwTFUKRklSfxAvNJURVCYJTEnFemIwJaghpF4TCeoyajCSqHAxFJvhSNjrEVKqZWJoPNhBUou1mCDVbOZYEJtdTK2MrrQ0eNjK-lVEgzkrMzyDVFJ9RhIpgmVzOKBMqw0ElMkePLY6lxD6dGykEORylrGhOjJ9LwHIchk38sGKSYNLKpHdNkFU3omjVB0nrFUxd3HXGyAhdBs9bqbDuMUgmTBsxJEHt6fiQpTyhx4aI3UF1HgqQCbCMUiEvYuCOIGFKqU-BwT2ByLkG9jTBmpBvZUoSKzxl8WzWUFpYkbyHMGUCd8xgpPuUTY6spKhkJeZLbxXdoSKzmZ3aGz1s4rNqR8FmoSWI6lTFpUo6FGboLJH5LSRJDm1gEipIU6YWDiVmFCYEgYNitVflWK8yYN4sXhAsO+HwZENRLHyIiTL0yoh1B8U8ERxJ8lJiWaSCc6x32zApDcf9iX8yVCEFsEDrIbzTJWNxlZ7Cd1-oyZ5IzKHLhRbYc8bdKz7DgkMA1WjqiTnCGBcqdlMqnTsmqW8fd24ZyvPwue8JRTCrJGzA+DF0ifyAmy+sAaUQDi-JhUCJ8YL+olA9Q0biszM0NNrVMYdOkUVPNGWFvqSjEVjhqXNUzeJvxRgQoa6ZsywuVrVaVsCZGzgPk9W42IhRkOVApYJylc4XH2nBdV0p8zAmOdGok2y-i+HCus6Su5drATCa5dRnIexBDoJhCsnkRlswCObVdmYRgrpDcU2KIEV4jHfAiY4l0o7M10VHeZ0RNadqSCvDKxTMo-y3WlQtH6pK0QaDFJK2ZuqNgEm084P1Ph0N3eWLSLJHkEuZBO8IIKEihO5SKI6vh0k-hpEcR5ciGTStVK5Kux1mp3UNNWIIb1mgqRGLRjKFjBo5HqpqR0B1qh-FqV2YojbN6XGjN4j45lrKbEKMJwFwI-opVjE9JU01bjbXykHc87x5MAKSa+AJ-U9wqNhFotmI0xUfB+v3Pi3i0OwNQ1PLwkTS3WTIStMML0fyiyg7I5c-iET2uhBwkCFMfPfKlHaFpSbnl4IGAZK03icj5hyINY0oDPP3FATo2qNqJR6VqpKjOZDGR2wvU2-MPoIy-1pQ7NYjw7y2EAm4Imhx0ssVInSOlGNaoVzcJpjMdKpSFXFCxGC2V0ZXlFBHRsm5xJvUw1Sh6CziWWVRXWYedKtwlKbIGPUXaoyTkLp830tgZsAtzguO0n5dX3LXFSe50nMPxnaywdbPXOSALSklCIx4q1zoTTI6kwq6ucmy5KGRopDmZjZocn0IANDkD0AYJQqhKDmAwOsxRtWyaXkyYEzcn1YiDW1N+6Kzl6pphFM2GK3jvpSLQQEy4qYyH2YimcZYH7jShJYM1JybhifLuAe83koUL1p0wiEMmKV8wDPRCQ2wg9jLPY8NE3l8FzJ+GovKcIY3ypU2J2ozm6vkgilnkqLDCIYyG++QS-Kklu0UQ5IjC8nUdWxHhHsfLMiiklgnn6vr1ZNyu3poQql2sWJ3zE3xXOZdjTikZCmNVFC-530dko+PZLlSJ1TmlIXS8lEQTEtnQsaUD4ErS4+N9TA1K7Dc5eISvSssR2496FBVYzgxDpd0gEClkPQhLrYSIdR0vdE5q+Pl+kZwkd8NlqYZUWDphZB+1sLq1qVy5ZjiEq6HCuX-uvE4kR7y9MeNKs+NI9mITuqg7y0d1gQW5O1P4StPIfdGEjQRm8aRHlatid4vFbjsbcCMgSmt3iq5bA4ZaK1Kk4MjbQTD8wy6bA5AfoxI0Zo6AEtBUwWzEImaBLHq2YOa-4ficyLAKhnAHLqST5c4aKEhG7ciz6t4+LLJaQxCpT6xuipIdbQoxjvBIr1a7SEY8RlScQOyQrLqYTAgMGLBZYv5dhtauRDLKgMHMrQh4ILLDYqaFzx5nSUK5xUJUi+6XAsCHJc6biHLWjMhExvy45jo6wOYSym767ZxG4VDUQSzHT4S8RyS67S6VRZreL+BFY6ZMClqxBJR7Tl4lQrJpIurXZuDDrtbJi9pkrDQRxBZbC7IwLd4HyMztinIRHdD0SR7NhKIMJl7p6LiJFOiLjYrlR9w4LlQQRGi54AbszGjwiQxzwRj+b3ChLdDoQE4-614-T6jErxqOhp7Jh04XYQjBitADqoGQQDr1jrQUhUiEHDqywsKLiLRMALHkwi43yciOHth9xkjrJMRIYv7vwZAv45gFCuQe4VDM5wIIh-qoJXgtBIyzqUHrCu6-5AS0QgFCjeRZKqYIyEbow2yDFbSDSziuQ3SHDdpHHwq7qVzBgoQ4itoo6ziFJsFj4chjD7L-4qJDrk4gH3jXoubobBgeok4mafyqjbLkbQh5iEieZdCwicYAjAGVLUmKFug5K8g-T9YnB4khg8Ksh-4foLDeR+Bkx8HwIv5r6EpGGVbuzpKVaYRSQ8KxrJTYwfYhSeLmqcjXqUI1wnR+HLbgizhFbGlTDoSdLGHHhrgLTUSUZCL4TvI-igJ2HsyGKdDhRKbmgN4xAcgkoXi4q-wVqYxjwSiRRhQKR6nbAcqbHoopybKTac4cpVH+DIRa4hhFZWFS656zGnJjGtiwpVGXjUQJmDZpRi4rYc7Egpg373o+HOLpHTwOzWjl4-Ti5AReGRaljzDe61aM5myRF05+4QihJGiR6unG6R4QF+o0LOZhJi4XS7hi72njqBgrqT7HG7GeKzLag2QSH-afR0jDYL5VjuqcaVbpguS8FRlXkFioTnn2xJrY4NnWTNS-gTBIqoLAK76Rk0q85XBCHL70oOwgq4JnDAiz7cE-44YrnwRUGbDBBBT7CVJ6TjrgYGlMD0bQgNJPZaRiSobuGQQmaAHXDeIZCUUcEFDmaHEgSYnkx-IKkbHYmaFnbmiTSlyDQP4nDzTegWyOSDQbBiknowlJJGGmyylXgrqP6YSGonBymiQnmF5Vg8IMnfDdSPaPy-DZ6wmEKmT6UWTDjwYtwDr4Hdx0rAm0hpFkL4jESYqTzHiDFCLHjTnsrqh2FFz3qPJZlennQpgYxyR7ZSSCbtaMoCTxwShVbDTIT-zhwlidLEkDHDgpnJiR5VwLJUr1xbCHLay2RZjq4pRPzpzdDZxWweIsw0JW4VGLhRWlGbjZwc7XDUTZrpbSKYxprRWBE7w5Ztkg5kJEiZm9RYJ77wrtnkrvQ9hbRnAlASpjRTxpiPIRm4Yii9Wth0U0JBUWo0JfHDIMLKHnDT4MnrIbphKz5JVng8Kzp9DqlsrrE9SIQ2ktqITdKoKXz-5ARRyPF8Y5SyxfVQihzY64gTDsU+hO6j5uCsi1SqJVgSmfWRGdmQ3DSGyz6+a1az5uZHKEhymOgEjGThJX4zQTkkmchGQMWEHV4FA-QZCczTF5hUzUH2H8gimGjYUsBaRGiwh0mZrohOmNknDQnRXYyTTVov7TFZwnB17VYiEQm0ZCjyUcJ76tTAZ76BGgZHgQQyiuJhwsV0gwSCW2BYLhC-EWQFFlSwwtjPWl6uzCKkjITUarnMQwY+lpRnAXKeWUUCr3oJKhE+XlApGjCFLDlSTxbJ72m1SS4pqxgmEZYQRHAHwl5ZK7w5TRHdpCIJE0KZU-41w6rDQBzTXsju7KqFGSjKqRaTCygbLMQ1x6rlTDjhURnonqjZ25CwpVyTzURTpfQpiRQLCIpNFtGIa0jCodpS52z7p6yjVw3vRGY4FzKbKLliRV3k3bwDod4-Z1Vo5jl+A6GxngrgFC7-UhhcqOKc7DY-kdZrx7VHgBSzRCgBQ1KoIyKZBSlfnyGfmu7UbgSA241PGA3rHO7eymVXDx2MUfAyW+KOTBi5Av5nT1YjTCK1RAVR5uguSQ5qBAA');

loadFromState('#contour-unstable', {
  gameType: "unstableGame",
  lr: 0.03,
  optimizerTypes: Object.values(OptimizerTypes)
}, 'N4Ig5ghgtgpgKgTwA4xALhAVwHYGcAuEARgDYwDi0qANCCQE7oAMAdEwIy0D2S+AllD4AvGPUQpc6ANogAggBNoIWgGVyAERABdAL4AfKaC7o5iqMpAALE6wCsATlvUAtKwAsAZgBs1VgHZ2DxdWD3Ynfy8mYJYAJi83XxY-R2iYtMSADhiM6PYMqNYMh1yPP0yMn1c2eyDWeyZ7aKY3RrqYsqqmJnCWGrLWJhjW3rcepj9akf6WdnHE+zcE1nY3TjqPHOW-Jd64xJimTd72NdjVzPtT9smio9CfQrzEj1sjvwnn+2G-GMnPYa8th6biKiQc01sMVOkJiYK8sPcxTsNWe+US8OmQwBr32Hh2XmSiTCkz8HEShzeYXJh0SPxynVsDySL1y7G+G1yXiZEw6rDSbzxqW2tKG0Q8gv8bLFfjeNKqbih6PslXcMvRfhVLEhBRYgMaVVsH1YXnF0S87ARupOZpNYMJVS8XzBkOi2yZthWrsJ7gyCSqWVOi04-vNn01GXs0zx9PWV3sMd6th2cSiVXjVzmaadywJLnYbAORMCebYpoGARLzWmHCcznz3VrA3aldDnV9LaCVQtHXrreW7brbEZqT2g+amuysLHLKqHhifvrszFKLTavlkWiNX1dhijZYEandgyCYyHm3upBXvPpL3AT9-mKDsW0QyS4Njpfw-llxfTtnK7qTwxQaTc-D3NJO3rQYSh7At7zYFpKzcHUmDPStbB1C1KnrJN9mLMdbEmLEkJ6bxsNLYEMMrdh3SpLMITXOphWNL91m+GjNxpfwIxfeJMhxf1PTaeCNR1eNNVJTh62fB0OXreNokNKSZkvA0yXzNlDxYBUcnzX4tJeWE9NzKp2icPT6lSa181CPdAmU8V4O6KIbLcJlUKMlhDPJSNqBswiiUJVzhnncyvLQkJdz8ry9hCHibNQxI3N02JXzBDwXNiXDkWUqEei5HwNO9JJfmii1vhRetQUKS96yiuoLXmI1enheZmmiwZTlPZTxmmMCEg07J1QGmYNTBH89KlOxumi3cjlWFKhktOcUrnS1flWtyiTcMobK5clhRsxi2CeGzjyaCavPsLS8k8s8tN3MKNnPPERtKc9VierwExBJ6XQNXCbMFB1FRsxqHXOvSMl5JIAr0gTCjnWann9BYyqyTdvrK00xz2eTU3ksLUMglSjnjWtJtOa7g3h4YKlg+5aV8wcXnZfV82QgFbUHUYdleciWndJhyMIy0FQXLVAWec5Bwcdav3zc1TjyelFdFZZoMHeIUJxxWqIZEnAXgi1DdwrtrpLQEHqArWFTFLatdCaJVkNxV1wlyIEw9EmHHgxkfcfY0N1ltCqlJVWtRAsPSRLUYT1anmMs48iz1TOo+JZ+ckPZ1Kc8OHP5wJlSpz0slBzyIuVlg35K5mwc4gphCGetMdNdc+CFhpryKl-CXVnDUUebN7ii5BYNJR9uig67wivYt2WsYNZCS1eH6Py1-CQmZxWZxCG3FcQ0yKy1-bTI4rX3lyTNFZSTpgfzUlLU6ktSXctHB1JYYVhzz-9jdh-hb7DAi-RKcUS66ksj6COBJoTLy1jiY0UcD46i5EXeEOwfiwUiDqd4Is0Q1Rni6dYIt2p1FPLHS+0kSaLEyhSWO1kVIpw-BpHiLNvCzRkhZXKA54ZPXYfXQBR0JY0RSgqEmJwwoYQlhwFKhpzyXEKheGGr5Mrh1dF0aKGpOxHl2vuKOqplK+hei6fMx406xFNKY9+OYRr1G0TMRq+ZLj2OaEEJxTwBggScaVcsjRvE9HstFa6PQDiZWukRExxw7iFncZMUohjfKqjcfuDGdhl6mJjsiTKvoUGQ33D45kijkhHHyKoy+NVdHbGmPUPxEDdFdEylyWpzQwommUrMZJ2CypbXzECXRBxlKQhGvOTyO1+kpA5olI6d0lwc0NMjTyhFFGzFqeaWh6ldTlJSbUiY3wPgPzRixMKvpLRAk8tDeaO0glcS8nbJxZYsrJMcJhK5Tj9oDHSb0YBnRcxOLRF2IEQT7R8g3E4j4s5aotXgqMZSCwYZAieaOY0pRrn2ImIo6GWlTzJNPHua6KVkgk2fg-B2GkGGOmEQpHe1dyG9LGizPivS3wcyAiyouHpdHeFgq8WpQw0HDlLj-GJMwoofzRPWUOpj2GARzseEpAl7k9A1BLcm6J-oxALJMIEtYNXdEDD8FwuqKzuEAc4XVFtIpTg1bMTEgKzUismOwY+1qHkdMNSpU4qEdWMKaDja1+tlgo39eYvI3qVgJl3J2a1MlIqphdXuZCUaRWah2nGhxft+HmvPJEYMRqEzfStUOa8DtdUov9FHXVm99zHz+ZqGoJNHAJi+Cq5sBEJbHkbt2EsRRK48P3ODPSMsH4GvrsqF+hYGWG3pRzOiisUYc3tHS9lQ1ZbXy1OdIejcTQSw2NA1hQMSYTC7nELuMpwEHBJgGEsFoI70xbBHeo49eiWUHAsLS11YKRnsb6Dour9FJAxvar1Zo-y6tPsipNdCl76mtVWtyYbgZxTTcSVIt9rWLz5KOa1x0Vi5pmBu8sha2STA4Emtk7lAPWsSTMEyVHkzAyozqDKRH2xxUqNhv46qaOnIYypfKGj7XlXRP861cx-AyV1dDTIpUgMIJSd61COxlSFoaR1dIr6KzyXIjUTyYR21Oj0qOUxgKoZd1fKtfWD9mHaUSh-IaHNF6K2AUynObToqvHZfs3UK7elRUVj3HmjKkh2x5hog5jdxTHLLaZ6Kx5yJQk8vW69dyvkR3GFESt4COCcF1f9dYZRzXmIqDlkVt52z+oTKSAr+GYbwhyBqqEftLwNcQ9pcrWUU2JQa8fEIaEGsEaytV4i5tYQatCE+k4GWvJOqaM+MbBTUL1ZikyWYCR5srZ7vN5MHpqBjamuFIIe24kKTG9BVUS2hiwNG7EYBxp0gNaRLqUELW3i2gax4-Ja2ZhjsKM9mjTJlQlZWLQwsomiZoyNSNMIJXFOzXu2wMLN3dGODej044iizy1IqGFNyI0sjJI9GFDUtTDSVNKmrVpQXvqdKpA-UUvTIkygJ4jrIijPB441CAHQ1AjAmDUJoWg1gMBHg+svY0Up-xHHiHuF4+J14hBud9CcuZ-DtTPuxTUTruRIuTbSHGAxUnMhhqhHBHIBhCWZGMKW-gk4a2+IqHMOClx8lARAkJAVjTFSGPieZe9TgmlIsVSI0wxFgjSoiYYSZ5oKTsDNuwtvtLFUZMCZ8yI-hne83EvixotohA+wSHU7RpjfSOL8JVru8jcg+4EJV6tqinHReSK54nzFdCVTLD53w4Eawb61lYteYZsiVVPM45fzFDEmN9J9eIUGBy8kHst7gCmRA+o9149iWiR8PvH6EKM7DvLa+Y32SVRhmizia+x8QoxSwdMa6b2aeJ8mOlVv+15Cz9gkkjZYu9mTDAaE+7YEjUOcTPcNvV0G2AYeZMODkLsTWG3ENAKMOCXZYZmVXeCecWrAbbIbNEyXrTUeIAyQDcXaFHXV4GGNyLSIEP2OArUGTePaFAcOwGOeUbfLUBSeUU1O7BMbwfNHbWcQeT3B6NKB0ACCxa8f9PIN-Y2U-aApyUQ7YLSZoYtasNXcTI4ZoSrZvGYMucTZWGQm3HYcjV0dIPkB2VXJkIYPcEvaWLSLkUiIgi8HYBUfAqkdwBOEXMEGg7VdKPcIZO0J9X6caVfFBAQmzYvViLyVqY0f5PPJkR0CNZiJIc+TDWvBMW6PXc8QIHBMwtgHuB8J9YmWkIhE6S0bYP-bPYLQwkCG3AJUMfwc-WIGaVXUvQFY0C1WIajAvaWfKS8OKfEd-bSOvBwP4a3LUNfQBHcI4QiYYEESPRI3mdEV3VYf3B5UoSfX3ZbYTK4aqCBEKFkSUI4TSPXF5N4MXaodvP-KiB8FxDPMCUA3o2GexWYbItI0-XQ3IajH4c8QuWkZI3OJUGGcUKXb5EINUFiEgyfHXUYSPP8aaHURkTUQiPmH-ZPTwygw5bSXA7zJkBUKwq47ufAsaPecxR0EJWEpI93cxL4-YTMcTS0MIW8fEybV0YcSAyrOTDgLSMCY3DvWGJyALcTTXYAo3XIchMOUVTDGGAIcfZgto8xUIHAl6YOHPDfTgq0cgmNddBNAUsY3wt2WPeFBGNrexVeZ2Xk+EAI2zHPTUF4WrcFWIkDexOIKUqtNIESFdfsKk7vEVdkgohw7kpoUIjUT1P4jUJ+WU2GQ4kfMCR1LEwAvCN-EKdwik54cGNo0iZUzZQMNU6XE-eCc0GYqTA0KTHcJ9IEd0OfD0SPVhH0forSRYS0K-Z2UhTZeCF4KXW+PPPqEfOIAUcfBo7YY2ZqfqXIIaCIAo27JIDOJsb4UYwYJVKItgTJWGFbAcrQmidkZMB3JIpM-EbMabfEfBLyVk3UD3GzRssc7Sc4ZEHE1jSWWiSPIYjYloPmc6REC8wMC3JskILGT3UiZsdM-YHYu8fYO2eAokGPYLR1N42GAJDRCIJ+bKKclQ17BMccWkLEhoUo7mb-N4CIvIEkHI34DBJGI+SkG0y80ksUD8T3aFao08gIs8i052SBNgk0+qSWSguTQiI-FEH0bNEw7SRAnPeaEfAkZaelNoqMD0pIiw0EaA9aELEAiC9k6YfvV0UY54r0FCYeJIA1TxKUnrJuDS43eQzMwIa8Pg-sESfhPkWykqJ9bIKkgTXrEk4FefJ9QEAIvfbzBNCI8EFik0rEyEL2GShEliv2VAoSzypOeUNM08m08DJ7NsrOMOVQ1KAA9TOyyrGAlAtFKy0mDSibGg4nWbSrYUToHQvSsYYSvSkjck0q5YWq0SFS8AkKANZkZMaxJIqMCAt3T4Tymi7SJ2J8YEeXK0KYuuI8KY-QsY05S+A0fPeKsZdEb0-4dEcas8SfeeEIM8gIAyZ3ZkcfFXYLGGKEbkOfJ1BvDDUrWkCq3xO6tCgcsEgsUooktgIa94TCDiccokT6xCPkVw5kIiE6gIJkUIFBPiyIlBZc5Cf3GCmhdED7HaKY8hHceEnbOwJCjlMPW8-3H64a4vB4s8YvRIl4OIn7A834iw5ciYejQijbPCr+fEjUNSxqfwRI4WJVYqQYbkYQpsBvBw4WHBdy2Ybke6vjDCtIn8B8CNaVYLcCYc0irs34mXR7ClZsmG+ss4+IFNF6gsxSG5Y-JeLVHCrUO-QiKwjPDCEk2KTE7NJCzwTyycs8fNajW010IGucAAh5doTQiw3ksCL+MdMOX8mYV4LnLQIAA');


loadFromState('#contour-wild', {
  gameType: "unstableGame",
  lr: 0.3,
  optimizerTypes: [OptimizerTypes.SGD]
}, 'N4Ig5ghgtgpgKgTwA4xALhAZwC4QEYA2MA4tKgDQgEBO6ADAHQAslA9ktgJZScBeM1RCkzoA2iADKxACIgAugF8APqNCt0kmSEoALDQFoAjAwBsADhPlGAJiYBWKwwDM5x07stGTgJx1HTAHYnNxMAxxM6PxtfRyCzR0M7S0YzMzD9RjprMOM6J3iMhmsnHIZDJgLGe29yY3L0xhNvS1y7YMLvM2tHC0sjZ1t-VPJ+6zMWQrombv7DOkrmAIaGb0M+lOsHQqS-WbMosro+4yc6Qx6jkcZOmuM7YquGOwD4us7Hw0Nuu9XHD2TnM1YpcbPsemYapkzA5ctCPiYYUVrDMqoM6i9HiYsbUGHQAusVhVHL4ZsZrN5PE97iMTvlHFldrkAjVCkw1o9VssAtTtjF+vNuplBqN8bFTjTcXTjNNlqFvk9XJNvJCGC8AcUWLk8n9lTi1prcRY9VMcUFzilPo93IjsvFGIZvMFpXZzaq2cSnAbrFkep6ceZXUx3pNNuFvA4bHY7QxoWFGElBStmcSTK6bjj-rEmimAeYDUwnK6SvLinHce6TqmrV89TXtoZXod2oxuectaTyxHVeMJS4u56WejzoVEgUmQsdo9oQtVrsqtMJZto2Mx0jKY6ZwF5QE6Cyql1HniFkGAU4XFaiY1z5M7F2If3ynr3LFyTjik7nNrcqHjAEHbF3UKbIP0MOkbGsNtmDA1UIhzN8mEpCw-GMcwyzaCZMmxFtnkcTYDnDSk7ApY0DToW8cQFf1HQuBZIhApxE3sSDPUTZpSLBO4jRSOwDheO9kzJQIxVuUxoJKA5NgBAsixiec0OfKp5jDdV3hSMxXTmFpDWHe0hLJbJHjZSCG2bUxqVhUzHXwxJF25P4MX6FxEymdJWi2Lw4Q6PFHj-UyiI7LJTMiYd9LLJpGVxP8cXyHTVTRUxqJHawCTxdyygYhJEsycUvC3BJQ33FSAVvRilj+ExKTzfxdWuAs3F3N8eMPQtotfQp3C08o5yeOzcm8ZYugBZpV3KSkdw7NkJO8-kHiAkoOQy7YgkxMxTNjD5dX5HsqkVOpIgo4ZCl6HFVuWMYOxMcUjvDNwspWH1rggnyfTuMqRyYXi2gSNJiTy+M6rqPTcS-dLkLMgFoRVBiPyPWIbLeLTkpEvIRO5XiEMeZ4bQqw91IzbN4xMRMXRVJYyw+yCpkpRJmLmR5vTB5EMOYJI9QRTFdVaPcVghHps0cv190HIo8sma86gbQzRQ6WaNgJJJhYbAFdy2E5vJSfaOh+u5QMxgSijqpVESjYnWfnaMAndLwDOuIiEhNN5uodEt+Z2zqhMKHdSKDDlqO41znAUxYQqKHGb1VspH1ZPlrhso6Psxr7RjOfKJjJVSY29DltaeQ3Cc6n0Rz9O4zaeXXGjIgDipa3Ifa8JSTjeqEQOlrx5rJab4wPCW0vGVi7NmP7VU16UnvtTbrmIuaUXu7rbwJCre--Ec7f5OmqktiVAoosONcg5luu9NPy2WKMFnU5ZHRnkoQ+Sg4XEVmItW5ilrBABQ5CAA');

